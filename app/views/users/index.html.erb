<% content_for :title, "Users" %>

<div class="container my-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h1 class="h4 mb-0">Users</h1>
    <%= link_to "New user", new_user_path, class: "btn btn-primary" %>
  </div>

  <% if @users.empty? %>
    <div class="alert alert-info">No users found.</div>
  <% else %>
    <div class="table-responsive">
      <table class="table table-hover align-middle">
        <thead class="table-light">
          <tr>
            <th>Full name</th>
            <th class="text-end">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @users.each do |user| %>
            <tr>
              <td>
                <%= link_to user.full_name, user_path(user), class: "fw-medium text-decoration-none" %>
                <div class="text-muted small"><%= user.email %></div>
              </td>
              <td class="text-end">
                <%= link_to "View", user_path(user), class: "btn btn-sm btn-outline-primary me-2" %>
                <%= button_to "Delete", user_path(user), method: :delete, form: { class: "d-inline" }, data: { confirm: "Are you sure you want to delete #{user.full_name}?" }, class: "btn btn-sm btn-danger" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% end %>
</div>
